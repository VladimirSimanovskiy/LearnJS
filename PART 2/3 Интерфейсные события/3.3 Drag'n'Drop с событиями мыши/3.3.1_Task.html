<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="3.3.1_style.css">
</head>

<body>

  <div id="slider" class="slider">
    <div class="thumb"></div>
  </div>

  <script>
    let thumb = document.querySelector('.thumb');
    thumb.onmousedown = function(event) {
      let shiftX = event.clientX - thumb.getBoundingClientRect().left;

      thumb.style.position = 'absolute';
      thumb.style.zIndex = 1000;

      moveAt(event.pageX);

      function moveAt(pageX) {
        if (pageX < slider.offsetWidth + slider.offsetLeft && pageX > slider.offsetLeft) {
          thumb.style.left = pageX - shiftX + 'px';
          thumb.style.top = '3px';
        };
      };

      function onMouseMove(event) {
        moveAt(event.pageX);
      };

      document.addEventListener('mousemove', onMouseMove);

      document.onmouseup = function() {
        document.removeEventListener('mousemove', onMouseMove);
        thumb.onmouseup = null;
      };
    };

    thumb.ondragstart = function() {
      return false;
    };

  </script>

</body>
</html>